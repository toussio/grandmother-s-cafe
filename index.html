<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Reservation</title>

  <!-- CSS -->
  <link rel="stylesheet" href="./style.css">
</head>

<body>

<!-- ================= TOPBAR ================= -->
<header class="topbar">
  <div class="topbar-inner">
    <div class="brand">
      <a href="#" onclick="setView('home'); return false;">
        <img src="https://i.imgur.com/WIPwg1y.png" alt="logo">
      </a>
    </div>

    <div class="top-actions">
      <nav class="nav">
        <button class="tab-btn" data-view="home">메인</button>
        <button class="tab-btn active" data-view="maid">메이드 예약</button>
        <button class="tab-btn" data-view="food">음식 예약</button>
        <button class="tab-btn" data-view="status">예약 현황</button>
        <button class="tab-btn" data-view="admin" id="adminTab" style="display:none;">
          관리자 전용
        </button>
      </nav>

      <button class="theme-btn" type="button" onclick="toggleTheme()">
        <span class="theme-icon" id="themeIcon">🌙</span>
        <span id="themeText">다크 모드</span>
      </button>
    </div>
  </div>
</header>

<!-- ================= SIDEBAR ================= -->
<aside class="sidebar">
  <div class="side-card">
    <div class="side-title">안내</div>
    <div class="side-text">
      메이드 예약은 “예약하기”로 접수됩니다.<br/>
      음식 예약은 “담기 → 주문 확정”으로 접수됩니다.
    </div>
  </div>

  <div class="side-card tip">
    <div class="side-title">TIP</div>
    <ul class="side-list">
      <li>음식 최소 100개부터</li>
      <li>펫 메뉴는 100% 예약제</li>
      <li>관리자 승인 후 관리자 코드 입력</li>
    </ul>
  </div>
</aside>

<!-- ================= MAIN ================= -->
<main class="main">
  <div class="content">

    <!-- HOME -->
    <section id="view-home" class="view">
      <h1 class="page-title">메인</h1>
      <div class="page-sub">예약 시스템에 오신 걸 환영합니다.</div>
    </section>

    <!-- MAID -->
    <section id="view-maid" class="view active">
      <h1 class="page-title">메이드 예약</h1>

      <div class="grid">
        <section class="card">
          <div class="field">
            <label>메이드 이름</label>
            <select id="maidName">
              <option value="">선택</option>
              <option>메이드 아리</option>
              <option>메이드 루나</option>
              <option>메이드 미유</option>
            </select>
          </div>

          <div class="row">
            <div class="field">
              <label>날짜</label>
              <input type="date" id="maidDate">
            </div>
            <div class="field">
              <label>시간</label>
              <select id="maidTime">
                <option value="">선택</option>
                <option>12:00</option>
                <option>14:00</option>
                <option>16:00</option>
                <option>18:00</option>
              </select>
            </div>
          </div>

          <div class="row">
            <div class="field">
              <label>예약 고유번호</label>
              <input id="maidRid" placeholder="RW-0001">
            </div>
            <div class="field">
              <label>이름</label>
              <input id="maidUser">
            </div>
          </div>

          <div class="row">
            <div class="field">
              <label>총 인원수</label>
              <input type="number" id="maidPeople" min="1">
            </div>
            <div class="field">
              <label>디스코드</label>
              <input id="maidDiscord">
            </div>
          </div>

          <div class="actions">
            <button class="btn ghost" onclick="resetMaidForm()">초기화</button>
            <button class="btn primary" onclick="submitMaid()">예약하기</button>
          </div>
        </section>
      </div>
    </section>

    <!-- FOOD -->
    <section id="view-food" class="view">
      <h1 class="page-title">음식 예약</h1>
      <!-- food UI는 app.js에서 동작 -->
    </section>

    <!-- STATUS -->
    <section id="view-status" class="view">
      <h1 class="page-title">예약 현황</h1>

      <div class="kpi-grid">
        <div class="kpi">
          <div class="label">메이드</div>
          <div class="value" id="kpiMaid">0</div>
        </div>
        <div class="kpi">
          <div class="label">음식</div>
          <div class="value" id="kpiFood">0</div>
        </div>
      </div>

      <div class="table-wrap">
        <table>
          <tbody id="maidStatusBody"></tbody>
        </table>
      </div>
    </section>

    <!-- ADMIN -->
    <section id="view-admin" class="view">
      <h1 class="page-title">관리자 전용</h1>
      <button class="btn ghost" onclick="clearAllStatus()">전체 삭제</button>
    </section>

  </div>
</main>

<!-- ================= ADMIN FLOAT ================= -->
<div class="admin-fab">
  <div class="admin-panel" id="adminPanel">
    <div class="admin-panel-head">
      <strong>관리자 로그인</strong>
      <span id="adminStateText">LOCK</span>
    </div>

    <div class="admin-panel-body">
      <div id="adminLockedBox">
        <input id="clientIdView" readonly>
        <button class="btn primary" onclick="requestAdminAccess()">권한 요청</button>
      </div>

      <div id="adminUnlockedBox" style="display:none;">
        <input id="adminCodeInput" type="password" placeholder="관리자 코드">
        <button class="btn primary" onclick="adminLoginFromUI()">관리자 ON</button>
        <button class="btn ghost" onclick="adminLogoutFromUI()">OFF</button>
      </div>
    </div>
  </div>

  <button class="admin-toggle-btn" onclick="toggleAdminPanel()">
    <span class="admin-dot" id="adminDot"></span>
    관리자
  </button>
</div>

<!-- ================= JS ================= -->
<script type="module" src="./app.js"></script>

</body>
</html>
